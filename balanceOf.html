<h1 id="balanceOf">Balance of:</h1>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.6.4/ethers.umd.min.js" integrity="sha512-EKCEAWajhazrbxxXV+UKphn1Vl1MhIbZxCy5kPVzVrTRKYJ96r7QtPgnK+Zvoi2Er1S3jU/y+ZgCGMA+A7Hdug==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="./scripts/getProvider.js"></script>
<script src="./scripts/config.js"></script>

<script>
  window.addEventListener("load", async (event) => {
    const provider = await getProvider();
    const providerAddresses = await provider.listAccounts();
    const providerAddress = providerAddresses[0];
    const Contract = new ethers.Contract(config.fishAddress, config.fishAbi, provider);
    const balance = await Contract["balanceOf"](providerAddress);
    const decimals = await Contract["decimals"]();
    const balanceOf = ethers.utils.formatUnits(balance, decimals);
    // display balance
    document.getElementById("balanceOf").innerHTML = "Balance of: " + balanceOf + " FISH";
  });
</script>
